# H.U.I. — Health User Interface (S.T.A.L.K.E.R. Anomaly)

Аддон добавляет над сталкерами UI-блок: нашивка фракции, имя, строка группировки и полоска здоровья.

## Установка

- Скопировать папку `gamedata` в корень Anomaly (или подключить через Mod Organizer).
- Если используешь MCM, настройки появятся в меню MCM как `H.U.I.`.

## Как работает (по умолчанию)

- Показывает информацию **только при наведении на врага** (используется `level.get_target_obj()`).
- Дополнительно может проверять видимость цели (`db.actor:see(npc)`), если включено.

## Настройки

Настройки берутся из `gamedata/configs/plugins/hui_config.ltx` и могут быть переопределены через MCM.

**[hui]**
- `enable` — включить/выключить.
- `show_mode` — `aim_enemy` или `aim_any`.
- `require_los` — требовать видимость цели.
- `max_distance` — максимальная дистанция (м).
- `y_offset` — вертикальное смещение UI над головой.
- `scale` — масштаб (в текущей реализации влияет на ширину HP-бара).
- `show_icon`, `show_name`, `show_faction`, `show_hp` — показывать элементы.
- `update_ms` — частота обновления выбора цели (мс).

**[colors] (HEX AARRGGBB)**
- `name_enemy`, `name_neutral`, `name_friend` — цвет имени по отношению.
- `hp_good`, `hp_mid`, `hp_bad` — цвет HP (градиент через mid).
- `hp_bg` — цвет фона HP.
- `hit_flash` — цвет вспышки при попадании.

## Детали

- Иконка фракции берётся по ключу `ui_inGame4_ico_<community>` (как в ванильном PDA Warfare UI).
- Группировка отображается как `[<локализованное название>]` через `game.translate_string(community)`.

## Troubleshooting

- Если UI не появляется: проверь, что аддон реально подключён и что игра использует Anomaly 1.5.3+ (с `axr_main` и колбэками).
- Если MCM не видит аддон: проверь наличие MCM и что `hui_mcm.script` лежит в `gamedata/scripts/`.
